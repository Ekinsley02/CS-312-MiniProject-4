{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\peppe\\\\OneDrive\\\\Desktop\\\\Mini-Project-4\\\\frontend\\\\src\\\\components\\\\BlogPostForm.js\",\n  _s = $RefreshSig$();\n// import libaries\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\n// function for blog post form\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction BlogPostForm({\n  onPostSubmit,\n  editingPost,\n  clearEditingPost\n}) {\n  _s();\n  const [title, setTitle] = useState('');\n  const [body, setBody] = useState('');\n  const [author, setAuthor] = useState('');\n\n  // pre fill the form to edit\n  useEffect(() => {\n    // check if editing post\n    if (editingPost) {\n      // set information\n      setTitle(editingPost.title);\n      setBody(editingPost.body);\n      setAuthor(editingPost.author);\n    }\n  }, [editingPost]);\n  const handleSubmit = async e => {\n    // prevent the default\n    e.preventDefault();\n\n    // try to either eidt or create new post\n    try {\n      if (editingPost) {\n        // Edit existing post\n        await axios.put(`http://localhost:8000/blogs/${editingPost.id}`, {\n          title,\n          body,\n          author\n        });\n        alert('Post updated successfully');\n        clearEditingPost();\n      } else {\n        // Create new post\n        await axios.post('http://localhost:8000/blogs', {\n          title,\n          body,\n          author\n        });\n        alert('Post created successfully');\n      }\n      setTitle('');\n      setBody('');\n      setAuthor('');\n      onPostSubmit(); // Trigger post refresh\n    } catch (error) {\n      console.error('Error submitting post', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: editingPost ? 'Edit Post' : 'Create a New Post'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"Title\",\n      value: title,\n      onChange: e => setTitle(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n      placeholder: \"Body\",\n      value: body,\n      onChange: e => setBody(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"Author\",\n      value: author,\n      onChange: e => setAuthor(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      children: editingPost ? 'Update Post' : 'Create Post'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, this), editingPost && /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      onClick: clearEditingPost,\n      children: \"Cancel Edit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 29\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 9\n  }, this);\n}\n_s(BlogPostForm, \"cVttx6fbv9n/RHvBVR1SFWArP/g=\");\n_c = BlogPostForm;\nexport default BlogPostForm;\nvar _c;\n$RefreshReg$(_c, \"BlogPostForm\");","map":{"version":3,"names":["React","useState","useEffect","axios","jsxDEV","_jsxDEV","BlogPostForm","onPostSubmit","editingPost","clearEditingPost","_s","title","setTitle","body","setBody","author","setAuthor","handleSubmit","e","preventDefault","put","id","alert","post","error","console","onSubmit","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","value","onChange","target","onClick","_c","$RefreshReg$"],"sources":["C:/Users/peppe/OneDrive/Desktop/Mini-Project-4/frontend/src/components/BlogPostForm.js"],"sourcesContent":["// import libaries\r\nimport React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\n// function for blog post form\r\nfunction BlogPostForm( { onPostSubmit, editingPost, clearEditingPost } ) \r\n    {\r\n\r\n    const [ title, setTitle ] = useState( '' );\r\n    const [ body, setBody ] = useState( '' );\r\n    const [ author, setAuthor ] = useState( '' );\r\n\r\n    // pre fill the form to edit\r\n    useEffect(() => {\r\n\r\n        // check if editing post\r\n        if( editingPost ) \r\n            {\r\n            \r\n            // set information\r\n            setTitle( editingPost.title );\r\n            setBody( editingPost.body );\r\n            setAuthor( editingPost.author );\r\n            }\r\n    }, [ editingPost ]);\r\n\r\n    const handleSubmit = async (e) => \r\n        {\r\n        \r\n        // prevent the default\r\n        e.preventDefault();\r\n\r\n        // try to either eidt or create new post\r\n        try {\r\n\r\n            if( editingPost ) \r\n                {\r\n\r\n                // Edit existing post\r\n                await axios.put(`http://localhost:8000/blogs/${ editingPost.id }`,\r\n                                                                 { title, body, author });\r\n                alert('Post updated successfully');\r\n                clearEditingPost(); \r\n                } \r\n\r\n            else {\r\n                // Create new post\r\n                await axios.post('http://localhost:8000/blogs', { title, body, author });\r\n                alert('Post created successfully');\r\n            }\r\n            setTitle('');\r\n            setBody('');\r\n            setAuthor('');\r\n            onPostSubmit();  // Trigger post refresh\r\n        } catch (error) {\r\n            console.error('Error submitting post', error);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <h2>{editingPost ? 'Edit Post' : 'Create a New Post'}</h2>\r\n            <input\r\n                type=\"text\"\r\n                placeholder=\"Title\"\r\n                value={title}\r\n                onChange={(e) => setTitle(e.target.value)}\r\n            />\r\n            <textarea\r\n                placeholder=\"Body\"\r\n                value={body}\r\n                onChange={(e) => setBody(e.target.value)}\r\n            />\r\n            <input\r\n                type=\"text\"\r\n                placeholder=\"Author\"\r\n                value={author}\r\n                onChange={(e) => setAuthor(e.target.value)}\r\n            />\r\n            <button type=\"submit\">{editingPost ? 'Update Post' : 'Create Post'}</button>\r\n            {editingPost && <button type=\"button\" onClick={clearEditingPost}>Cancel Edit</button>}\r\n        </form>\r\n    );\r\n}\r\n\r\nexport default BlogPostForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}